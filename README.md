# QQ音乐点歌插件

一个基于 Nekro 框架的 QQ 音乐点歌插件，允许 AI 助手通过 QQ 音乐搜索并发送音乐消息。

## 功能特点

- 🎵 智能搜索 QQ 音乐歌曲
- 🎨 自动获取专辑封面图片
- 🔊 发送高品质音频消息（需要凭证）
- 💬 支持私聊和群聊消息发送
- ⚙️ 可配置专辑封面尺寸

## 配置说明

在插件配置中，您可以设置以下选项：

- **专辑封面尺寸**：支持 150×150、300×300、500×500、800×800 四种尺寸，默认为 300×300

## 使用方法

### AI 助手调用

AI 助手可以通过调用 `send_music` 方法来发送音乐：

```python
# 在 AI 助手的对话中使用
send_music("adapter-group_123456", "周杰伦 晴天")
```

## 凭证配置

要获取高品质音频（VIP歌曲），需要配置 QQ 音乐凭证：

1. 在插件数据目录中创建 `qqmusic_cred.pkl` 文件
2. 将有效的 QQ 音乐登录凭证保存到该文件中


## 技术细节

- 使用 QQ 音乐官方 API 进行搜索和音频获取
- 支持音频格式降级（MP3_320 → MP3_128）
- 异步处理所有网络请求
- 完整的错误处理和日志记录

## 版本历史

- v2.0.1：初始发布版本
  - 基础音乐搜索和发送功能
  - 可配置专辑封面尺寸
  - 凭证支持高品质音频

## 作者信息

- **作者**：GeQian
- **GitHub**：[https://github.com/tooplick/nekro_order_qqmusic](https://github.com/tooplick/nekro_order_qqmusic)

## 许可证

本项目采用 MIT 许可证。详见 LICENSE 文件。

## 注意事项

- 请确保遵守 QQ 音乐的使用条款和版权规定
- 凭证文件需要用户自行获取和配置
- 插件仅用于学习和交流目的